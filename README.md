# 编译优化（上）

### 内容摘要
* 编译和链接过程
* 静态编译和动态编译
* CMake和Make
* 编译耗时分析
* 编译优化手段

### 编译和链接过程
* 单个cpp文件编译过程
  以下面的文件为例。
```
int g_a = 1;            //定义有初始值全局变量
int g_b;                //定义无初始值全局变量
static int g_c;         //定义全局static变量
extern int g_x;         //声明全局变量
extern int sub();   //函数声明

int sum(int m, int n) {     //函数定义
    return m+n;
}
int main(int argc, char* argv[]) {
    static int s_a = 0;     //局部static变量
    int l_a = 0;                //局部非static变量
    sum(g_a,g_b);
    return 0;
}
```
  其中，static，非static变量与全局，非全局的四种组合的效果如下
** 非 static 全局变量表示这个变量存在于程序执行的整个生命周期，同时可以被本源码文件之外的其他文件访问到。
static 全局变量表示这个变量存在于程序执行的整个生命周期，但是只能被本源码文件的函数访问到。
非 static 局部变量表示，这个变量只在本变量所在的函数的执行上下文中存在（实际上这种变量是在函数执行栈的函数栈帧中）
static 局部变量其实属于全部变量的范畴，它存在于程序执行的整个生命周期，但是作用域被局限在定义这个变量的代码块中（大括号包含的范围）
动态申请的变量表明这个变量是在运行过程中，由函数动态的从进程的地址空间中申请一块空间，并使用这个空间存储数据。
* 多个cpp文件编译过程
